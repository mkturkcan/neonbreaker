<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Neon Breaker: Galaxy Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <div id="landscape-warning">
        <h1 class="text-2xl text-white font-orbitron mb-2">SYSTEM ERROR</h1>
        <p class="text-gray-400">Please rotate device to portrait mode.</p>
    </div>

    <div id="game-container">
        <div class="scanlines"></div>
        <div class="vignette"></div>
        <div class="xp-bar-container">
            <div id="xp-bar" class="xp-bar-fill"></div>
        </div>

        <canvas id="gameCanvas"></canvas>

        <div id="game-ui" class="ui-layer">
            <div class="hud-top">
                <div>
                    <div class="text-[10px] text-gray-400 font-orbitron">HULL INTEGRITY</div>
                    <div class="bar-container">
                        <div id="hp-bar" class="health-bar-fill"></div>
                    </div>
                    <div id="hp-text" class="text-[10px] font-mono text-gray-500">100%</div>
                </div>
                <div class="flex flex-col items-center">
                    <div class="text-2xl font-black text-white font-orbitron drop-shadow-[0_0_5px_cyan]"
                        id="level-display">LVL 1</div>
                    <div id="combo-display"
                        class="text-yellow-400 font-bold italic text-sm opacity-0 transition-opacity">0x COMBO</div>
                </div>
                <div class="text-right">
                    <div class="text-[10px] text-gray-400 font-orbitron">DATA SHARDS</div>
                    <div id="score-display" class="text-xl font-bold text-cyan-400 font-orbitron">0</div>
                </div>
            </div>

            <div id="boss-warning"
                class="absolute top-1/3 w-full text-center opacity-0 pointer-events-none transition-opacity duration-500">
                <div
                    class="text-6xl text-red-600 font-black font-orbitron tracking-widest animate-pulse drop-shadow-[0_0_20px_red]">
                    WARNING</div>
                <div
                    class="text-white tracking-[0.5em] text-sm mt-2 bg-red-900/80 px-6 py-1 inline-block rounded-sm border border-red-500">
                    BOSS SIGNATURE DETECTED</div>
            </div>

            <div id="wave-notification"
                class="absolute top-1/4 w-full text-center opacity-0 pointer-events-none transition-opacity duration-500">
                <div id="wave-title"
                    class="text-3xl text-yellow-400 font-bold font-orbitron tracking-[8px] uppercase drop-shadow-[0_0_15px_rgba(255,200,0,0.8)]">
                    SECTOR 1</div>
            </div>

            <div id="mobile-controls-hint">
                <div class="hint-key"><span class="text-2xl">↔</span>MOVE</div>
                <div class="hint-key"><span class="text-2xl">⊕</span>AIM</div>
            </div>
        </div>

        <!-- Class Selection -->
        <div id="class-screen" class="overlay-screen active">
            <h1
                class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-b from-white to-cyan-200 mb-2 font-orbitron italic tracking-tighter drop-shadow-[0_0_15px_cyan]">
                NEON BREAKER</h1>
            <p class="text-xs text-cyan-500 tracking-[0.5em] mb-8 font-orbitron">GALAXY EDITION v6.3</p>
            <div class="grid grid-cols-2 gap-3 w-full px-6 mb-4 overflow-y-auto max-h-[60vh]">
                <div class="card-btn rarity-common" onclick="startGame('Spark')">
                    <div class="text-4xl mb-2 text-cyan-400">✦</div>
                    <div class="font-bold text-white text-sm">SPARK</div>
                    <div class="text-[10px] text-gray-400">Balanced Prototype</div>
                </div>
                <div class="card-btn rarity-uncommon" onclick="startGame('Vulcan')">
                    <div class="text-4xl mb-2 text-yellow-400">⚡</div>
                    <div class="font-bold text-white text-sm">VULCAN</div>
                    <div class="text-[10px] text-gray-400">Rapid Fire Frame</div>
                </div>
                <div class="card-btn rarity-rare" onclick="startGame('Titan')">
                    <div class="text-4xl mb-2 text-red-500">◼</div>
                    <div class="font-bold text-white text-sm">TITAN</div>
                    <div class="text-[10px] text-gray-400">Heavy Siege Unit</div>
                </div>
                <div id="phantom-card" class="card-btn locked" onclick="tryStartPhantom()">
                    <div class="text-4xl mb-2 text-purple-500">?</div>
                    <div class="font-bold text-white text-sm">PHANTOM</div>
                    <div class="text-[10px] text-gray-400" id="phantom-hint">Locked (Wave 6)</div>
                </div>
            </div>
            <div class="absolute bottom-4 left-6 text-xs text-gray-600 font-orbitron tracking-widest">A Wisedawn Game
            </div>
            <button onclick="openOptions()"
                class="absolute bottom-4 right-6 text-gray-500 hover:text-white transition-colors font-orbitron text-[10px] tracking-widest border border-gray-800 px-3 py-1 rounded uppercase hover:bg-gray-900 hover:border-gray-600">
                [ OPTIONS ]
            </button>
        </div>

        <!-- Options Screen -->
        <div id="options-screen" class="overlay-screen">
            <h1 class="text-4xl font-black text-white mb-8 font-orbitron tracking-widest drop-shadow-[0_0_10px_white]">
                SETTINGS</h1>

            <div class="w-full px-10 space-y-6">
                <!-- Volume -->
                <div>
                    <div class="flex justify-between mb-2 font-orbitron text-cyan-400 text-sm tracking-wider">
                        <span>MASTER VOLUME</span>
                        <span id="vol-display">100%</span>
                    </div>
                    <input type="range" id="opt-volume" min="0" max="1" step="0.1" value="1"
                        class="w-full accent-cyan-400 h-2 bg-gray-800 rounded-lg appearance-none cursor-pointer">
                </div>

                <!-- Shake -->
                <div class="flex items-center justify-between">
                    <span class="font-orbitron text-cyan-400 text-sm tracking-wider">SCREEN SHAKE</span>
                    <button id="opt-shake" onclick="toggleShake()"
                        class="font-bold text-white bg-gray-800 px-3 py-1 rounded border border-gray-600 w-16 text-xs transition-colors">ON</button>
                </div>

                <!-- Particles -->
                <div class="flex items-center justify-between">
                    <span class="font-orbitron text-cyan-400 text-sm tracking-wider">PARTICLES</span>
                    <button id="opt-particles" onclick="toggleParticles()"
                        class="font-bold text-white bg-gray-800 px-3 py-1 rounded border border-gray-600 w-16 text-xs transition-colors">HIGH</button>
                </div>
            </div>

            <div class="mt-12 flex flex-col gap-4 w-full px-10">
                <button onclick="closeOptions()" class="btn-primary w-full py-3 text-sm">SAVE & EXIT</button>
                <button onclick="resetData()"
                    class="text-red-900 hover:text-red-500 text-[10px] font-orbitron tracking-widest transition-colors uppercase">
                    ⚠ WIPE TERMINAL DATA ⚠
                </button>
            </div>
        </div>

        <!-- Level Up -->
        <div id="levelup-screen" class="overlay-screen">
            <h1
                class="text-3xl font-black text-white font-orbitron mb-6 tracking-widest text-shadow-glow text-center border-b-2 border-cyan-500 pb-2">
                SYSTEM UPGRADE</h1>
            <div id="perk-container" class="flex flex-col gap-3 w-full px-8 max-w-md"></div>
        </div>

        <!-- Game Over -->
        <div id="shop-screen" class="overlay-screen">
            <h1
                class="text-4xl font-black text-red-500 font-orbitron mb-2 tracking-tighter drop-shadow-[0_0_20px_rgba(255,0,0,0.5)]">
                CRITICAL FAILURE</h1>
            <div
                class="flex items-center gap-2 mb-6 text-gray-300 bg-gray-900/80 px-6 py-2 rounded-full border border-red-900/50">
                <span>DATA COLLECTED:</span>
                <span id="shop-currency" class="text-cyan-400 font-bold text-xl">0</span>
            </div>
            <div id="upgrades-grid" class="grid grid-cols-2 gap-2 w-full px-4 mb-6 overflow-y-auto max-h-[40vh]"></div>
            <button onclick="restartGame()" class="btn-primary">REBOOT SYSTEM</button>
        </div>
    </div>

    <script src="js/constants.js"></script>
    <script src="js/classes.js"></script>
    <script src="js/game.js"></script>
</body>

</html>